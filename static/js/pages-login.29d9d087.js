(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login"],{"2ba7":function(e,t,n){"use strict";(function(e){var o=n("4ea4");n("ac1f"),n("1276"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;o(n("7c86"));var i=n("eb32"),a={data:function(){return{model1:{tel:"",isRemember:["check"],isFace:["isFace"],shareId:""},rules:{tel:[{required:!0,message:"请输入手机号",trigger:["blur"]},{pattern:/^1[3456789]\d{9}$/,message:"请输入正确的手机号",trigger:["blur"]}]},useFace:!0}},methods:{loginSubmit:function(){this.readyLogin()},readyLogin:function(){var t=this;this.$refs.form1.validate().then((function(n){var o="",a={tel:t.model1.tel,shareId:t.model1.shareId};uni.showLoading({title:"登录中",mask:!0}),(0,i.loginByNo)(a).then((function(n){e("log","123ok"," at pages/login.vue:96"),uni.hideLoading(),1==n.status&&(uni.setStorageSync("token",n.msg),uni.setStorageSync("tel",t.model1.tel),uni.setStorageSync("realname",n.data.realname),uni.setStorageSync("userId",n.data.id),uni.setStorageSync("dialogShow",!0),uni.setStorageSync("share_id",o),1==t.model1.isRemember.length?uni.setStorageSync("remember",!0):uni.setStorageSync("remember",!1),uni.reLaunch({url:"/pages/home"}))}))}))},getUrlParam:function(){var t=window.location.href,n="",o=t.split("?");if(e("log",o,"urlArr"," at pages/login.vue:121"),1==o.length)return{channelCode2:""};var i=o[1];if("share_id"!=i.split("=")[0])return{channelCode2:""};var a=i.split("=")[1];return n=a.split("#")[0],{channelCode2:n}},getInfo:function(){uni.getStorageSync("remember")&&(this.model1.tel=uni.getStorageSync("tel"));var e=window.location.href,t=e.split("?");t.length>1&&(this.model1.shareId=t[1].split("#")[0].split("=")[1])}},onLoad:function(){this.getInfo()}};t.default=a}).call(this,n("0de9")["log"])},"51e5":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{lang:String,sessionFrom:String,sendMessageTitle:String,sendMessagePath:String,sendMessageImg:String,showMessageCard:Boolean,appParameter:String,formType:String,openType:String}};t.default=o},"583c":function(e,t,n){var o=n("24fb");t=o(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 下方引入的为uView UI的集成样式文件，为scss预处理器，其中包含了一些"u-"开头的自定义变量\r\n * 使用的时候，请将下面的一行复制到您的uniapp项目根目录的uni.scss中即可\r\n * uView自定义的css类名和scss变量，均以"u-"开头，不会造成冲突，请放心使用 \r\n */.desc[data-v-7b8f5d1b]{margin-top:%?40?%;color:#888;text-align:center}.login_title[data-v-7b8f5d1b]{margin:%?0?% auto %?80?%;width:%?500?%;height:%?100?%;line-height:%?80?%;font-size:%?50?%;letter-spacing:%?5?%;text-align:center;color:#f4f1c0}.login_box[data-v-7b8f5d1b]{border-radius:%?10?%;background-color:#2a3c6a}.login_box .left_img[data-v-7b8f5d1b]{width:%?55?%;height:%?55?%}.logo_img[data-v-7b8f5d1b]{width:%?270?%;height:%?240?%;margin:%?50?% auto %?60?%}.header_title[data-v-7b8f5d1b]{font-size:%?30?%;text-align:center;margin:25px auto}.form_box[data-v-7b8f5d1b]{border-radius:%?20?%}.form_box .u-row[data-v-7b8f5d1b]{margin:%?30?% auto %?40?%;width:85%;padding:0 20px;box-sizing:border-box}.form_box .no_ipt[data-v-7b8f5d1b]{margin-top:%?35?%;background:transparent;color:#fff;display:flex;justify-content:space-between!important;font-size:%?14?%!important}.form_box .btn[data-v-7b8f5d1b]{margin:%?70?% auto 0;width:%?600?%;height:%?90?%;line-height:%?90?%;font-size:%?35?%;letter-spacing:%?3?%;text-align:center;color:#000;border-radius:%?50?%;background:linear-gradient(180deg,#fcdc95,#efc168 66%,#ffdc97)}.form_box[data-v-7b8f5d1b] .u-line{border:none!important}',""]),e.exports=t},"5f52":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return o}));var o={"u-Form":n("8466").default,uRow:n("3754").default,uCol:n("97a5").default,uFormItem:n("5285").default,"u-Input":n("1bc7").default,uButton:n("849e").default},i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-uni-view",{staticClass:"container"},[n("v-uni-view",{staticClass:"logo_img bg",style:{backgroundImage:"url("+e.imageUrl("logo_big.png")+")"}}),n("u--form",{ref:"form1",staticClass:"form_box form",attrs:{labelPosition:"left",model:e.model1,rules:e.rules}},[n("u-row",{staticClass:"login_box"},[n("u-col",{attrs:{span:"1"}},[n("v-uni-view",{staticClass:"left_img bg",style:{backgroundImage:"url("+e.imageUrl("shouji.png")+")"}})],1),n("u-col",{attrs:{span:"8",offset:"0.7"}},[n("u-form-item",{ref:"item1",attrs:{prop:"tel",borderBottom:!0}},[n("u--input",{staticClass:"ipt",attrs:{border:"none",maxlength:"11",placeholder:"手机号登录并注册",color:"#FFDC97",placeholderStyle:"color:#ffffff"},model:{value:e.model1.tel,callback:function(t){e.$set(e.model1,"tel",t)},expression:"model1.tel"}})],1)],1)],1),n("u-button",{staticClass:"btn",attrs:{size:"large"},on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.loginSubmit.apply(void 0,arguments)}}},[e._v("登录")]),n("v-uni-view",{staticClass:"desc"},[e._v("未注册的手机登录后自动创建账户")])],1)],1)},a=[]},"7c86":function(e,t,n){"use strict";var o=n("4ea4");n("d3b7"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n("96cf");var i=o(n("1da1")),a={web:!1,url:"https://static-91daf9c1-d4fd-4f05-ac30-b930edfccc86.bspapp.com/bundle.js",init:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=this;uni.downloadFile({url:t.url,success:function(t){200===t.statusCode&&plus.io.resolveLocalFileSystemURL(t.tempFilePath,(function(t){plus.io.resolveLocalFileSystemURL("_doc/",(function(n){n.getDirectory("_doc/",{create:!1},(function(o){plus.io.resolveLocalFileSystemURL("_doc/face.js",(function(o){o.remove(),t.moveTo(n,"face.js"),e()}),(function(){t.moveTo(n,"face.js"),e()}))}))}))}))}})},getis:function(){return new Promise((function(e,t){plus.io.resolveLocalFileSystemURL("_doc/face.js",(function(){e(!0)}),(function(){e(!1)}))}))},close:function(){plus.webview.close(this.web)},open:function(){var e=arguments,t=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var o,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e.length>0&&void 0!==e[0]?e[0]:["a","b","c"],i=e.length>1&&void 0!==e[1]?e[1]:function(){},"object"===typeof o){n.next=5;break}return i("参数有误不是 object"),n.abrupt("return",!1);case 5:return a=t,n.next=8,t.getis();case 8:if(!n.sent){n.next=12;break}plus.io.requestFileSystem(plus.io.PRIVATE_DOC,(function(e){e.root.getFile("face.html",{create:!0},(function(e){e.file((function(t){e.createWriter((function(e){e.write('<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta http-equiv="X-UA-Compatible" content="IE=edge"></head><body></body></html>'),a.web=plus.webview.create("_doc/face.html?type="+JSON.stringify(o),999,{"uni-app":"none",background:"#0000",backButtonAutoControl:"close",top:0},"zoom-fade-out"),a.web.appendJsFile("_doc/face.js"),a.web.show();var t=setInterval((function(){if(plus.storage.getItem("facetempuserimg")){var e=plus.storage.getItem("facetempuserimg");plus.storage.removeItem("facetempuserimg"),i(e)}plus.webview.getWebviewById("999")||(plus.storage.removeItem("facetempuserimg"),clearInterval(t))}),500)}))}))}))})),n.next=13;break;case 12:i("请先调用init 下载资源到手机");case 13:case"end":return n.stop()}}),n)})))()}};t.default=a},"9cb8":function(e,t,n){"use strict";var o=n("e282"),i=n.n(o);i.a},c805:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={props:{openType:String},methods:{onGetUserInfo:function(e){this.$emit("getuserinfo",e.detail)},onContact:function(e){this.$emit("contact",e.detail)},onGetPhoneNumber:function(e){this.$emit("getphonenumber",e.detail)},onError:function(e){this.$emit("error",e.detail)},onLaunchApp:function(e){this.$emit("launchapp",e.detail)},onOpenSetting:function(e){this.$emit("opensetting",e.detail)}}};t.default=o},e282:function(e,t,n){var o=n("583c");o.__esModule&&(o=o.default),"string"===typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);var i=n("4f06").default;i("c52065c2",o,!0,{sourceMap:!1,shadowMode:!1})},eadb:function(e,t,n){"use strict";n.r(t);var o=n("5f52"),i=n("f161");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("9cb8");var r,s=n("f0c5"),l=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,"7b8f5d1b",null,!1,o["a"],r);t["default"]=l.exports},f161:function(e,t,n){"use strict";n.r(t);var o=n("2ba7"),i=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);t["default"]=i.a}}]);